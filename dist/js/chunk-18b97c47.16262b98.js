(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18b97c47"],{"003c":function(e,t,a){"use strict";a("51d9")},3468:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),t("el-breadcrumb-item",[t("router-link",{attrs:{to:"/teacher"}},[e._v("讲师管理")])],1),t("el-breadcrumb-item",[e._v("讲师列表")])],1),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",{attrs:{span:8}},[t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.findTeacherList(1)}},slot:"append"})],1)],1),t("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:8}},[t("el-button",{attrs:{type:"success"},on:{click:function(t){e.comName="addTeacher"}}},[e._v("添加讲师")])],1),t("el-col",{attrs:{span:8}})],1),t("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.teacherData}},[t("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"80",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120",align:"center"}}),t("el-table-column",{attrs:{prop:"education",label:"毕业院校",width:"120"}}),t("el-table-column",{attrs:{prop:"career",label:"教育经历",width:"140",align:"center"}}),t("el-table-column",{attrs:{label:"是否名师",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"y"==a.row.isfamous?"success":"danger"}},[e._v(" "+e._s("y"==a.row.isfamous?"是":"否")+" ")])]}}])}),t("el-table-column",{attrs:{label:"任课科目",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(e.subjectData,(function(s){return t("span",{key:s.id},[s.id===a.row.subjectid?t("span",[e._v(e._s(s.name))]):e._e()])}))}}])}),t("el-table-column",{attrs:{label:"入职日期",width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("i",{staticClass:"el-icon-time"}),t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(a.row.hiredate))])]}}])}),t("el-table-column",{attrs:{label:"在职状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"y"==a.row.status?"success":"danger"}},[t("span",[e._v(e._s("y"==a.row.status?"在职":"离职"))])])]}}])}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(a.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{background:!0,layout:"prev, pager, next,sizes,jumper,->,total","prev-text":"上一页","next-text":"下一页","page-sizes":[5,10,15,20,25,30,35,40,45,50],"page-size":e.pageInfo.pageSize,"current-page":e.pageInfo.pageNum,total:e.pageInfo.total},on:{"size-change":e.hanleSizeChange,"current-change":e.handleCurrentChange}}),t(e.comName,{tag:"component",attrs:{subjectData:e.subjectData,objTeacher:e.teacher},on:{func:e.handleShow}})],1)},i=[],r=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"添加讲师",visible:e.addTeacherDialogFormVisible},on:{"update:visible":function(t){e.addTeacherDialogFormVisible=t},close:e.cancelAdd}},[t("el-form",{attrs:{model:e.teacher}},[t("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.teacher.name,callback:function(t){e.$set(e.teacher,"name",t)},expression:"teacher.name"}})],1),t("el-form-item",{attrs:{label:"毕业院校","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.teacher.education,callback:function(t){e.$set(e.teacher,"education",t)},expression:"teacher.education"}})],1),t("el-form-item",{attrs:{label:"教育经历","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.teacher.career,callback:function(t){e.$set(e.teacher,"career",t)},expression:"teacher.career"}})],1),t("el-form-item",{attrs:{label:"是否名师","label-width":e.formLabelWidth}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.teacher.isfamous,callback:function(t){e.$set(e.teacher,"isfamous",t)},expression:"teacher.isfamous"}})],1),t("el-form-item",{attrs:{label:"讲授科目","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择科目"},model:{value:e.teacher.subjectid,callback:function(t){e.$set(e.teacher,"subjectid",t)},expression:"teacher.subjectid"}},e._l(e.subjectData,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelAdd}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmAdd}},[e._v("确 定")])],1)],1)},l=[],o={data(){return{addTeacherDialogFormVisible:!0,formLabelWidth:"120px",teacher:{}}},props:["subjectData"],methods:{cancelAdd(){this.addTeacherDialogFormVisible=!1,this.$emit("func")},confirmAdd(){this.teacher.isfamous=1==this.teacher.isfamous?"y":"n",this.$axios.post("/api/teacher/add",this.teacher).then(e=>{console.log(e.data),200==e.data.status?this.$message({type:"success",message:"添加讲师成功!",offset:300,duration:1e3}):this.$message({type:"danger",message:"添加讲师失败!",offset:300,duration:1e3})}).catch(()=>{alert("error")}),this.addTeacherdialogFormVisible=!1,this.$emit("func")}},created(){}},c=o,n=a("0c7c"),h=Object(n["a"])(c,r,l,!1,null,null,null),d=h.exports,u=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"编辑讲师",visible:e.addTeacherDialogFormVisible},on:{"update:visible":function(t){e.addTeacherDialogFormVisible=t},close:e.cancelAdd}},[t("el-form",{attrs:{model:e.teacher}},[t("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.teacher.name,callback:function(t){e.$set(e.teacher,"name",t)},expression:"teacher.name"}})],1),t("el-form-item",{attrs:{label:"毕业院校","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.teacher.education,callback:function(t){e.$set(e.teacher,"education",t)},expression:"teacher.education"}})],1),t("el-form-item",{attrs:{label:"教育经历","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.teacher.career,callback:function(t){e.$set(e.teacher,"career",t)},expression:"teacher.career"}})],1),t("el-form-item",{attrs:{label:"是否名师","label-width":e.formLabelWidth}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.teacher.isfamous,callback:function(t){e.$set(e.teacher,"isfamous",t)},expression:"teacher.isfamous"}})],1),t("el-form-item",{attrs:{label:"讲授科目","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择科目"},model:{value:e.teacher.subjectid,callback:function(t){e.$set(e.teacher,"subjectid",t)},expression:"teacher.subjectid"}},e._l(e.subjectData,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelAdd}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmEdit}},[e._v("确 定")])],1)],1)},m=[],f={data(){return{addTeacherDialogFormVisible:!0,formLabelWidth:"120px",teacher:{}}},props:["subjectData","objTeacher"],methods:{cancelAdd(){this.addTeacherDialogFormVisible=!1,this.$emit("func")},confirmEdit(){this.teacher.isfamous=1==this.teacher.isfamous?"y":"n",this.$axios.post("/api/teacher/edit",this.teacher).then(e=>{console.log(e.data),200==e.data.status?this.$message({type:"success",message:"编辑讲师成功!",offset:300,duration:1e3}):this.$message({type:"danger",message:"编辑讲师失败!",offset:300,duration:1e3})}).catch(()=>{alert("error")}),this.addTeacherdialogFormVisible=!1,this.$emit("func")}},created(){this.teacher={id:this.objTeacher.id,name:this.objTeacher.name,education:this.objTeacher.education,career:this.objTeacher.career,isfamous:!0,subjectid:this.objTeacher.subjectid,status:this.objTeacher.status},this.teacher.isfamous="y"==this.objTeacher.isfamous}},p=f,b=Object(n["a"])(p,u,m,!1,null,null,null),g=b.exports,v={data(){return{searchName:"",teacherData:[],subjectData:[],pageInfo:[],pageNum:1,pageSize:5,comName:"",teacher:{}}},components:{addTeacher:d,editTeacher:g},methods:{indexMethod(e){return e+1+this.pageSize*(this.pageInfo.pageNum-1)},handleShow(){this.comName=""},handleEdit(e){this.teacher=e,this.comName="editTeacher"},handleDelete(e){this.$confirm("您确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.get("/api/teacher/delete",{params:{id:e}}).then(e=>{console.log(e.data),200==e.data.status?(this.$message({type:"success",message:"删除讲师成功!",offset:300,duration:1e3}),this.findTeacherList(1)):4001==e.data.status&&this.$message({type:"error",message:e.data.msg,offset:500,duration:1e3})}).catch(()=>{alert("error")})}).catch(()=>{})},findTeacherList(e){this.$axios.get("api/teacher/list?",{params:{name:this.searchName,pageNum:e,pageSize:this.pageSize}}).then(e=>{console.log(e.data),this.pageInfo=e.data.data,this.teacherData=this.pageInfo.list}).catch(e=>{this.$message({showClose:!0,message:"寄!",type:"error",offset:550,duration:1e3})})},findSubjectList(){this.$axios.get("/api/subject/list").then(e=>{console.log(e.data),this.subjectData=e.data.data}).catch(e=>{this.$message({showClose:!0,message:"g!",type:"error",offset:550,duration:1e3})})},hanleSizeChange(e){console.log(e),this.pageSize=e,this.findTeacherList(1)},handleCurrentChange(e){this.pageNum=e,this.findTeacherList(e)}},created(){this.findTeacherList(1),this.findSubjectList()}},w=v,y=(a("003c"),Object(n["a"])(w,s,i,!1,null,"6cc86590",null));t["default"]=y.exports},"51d9":function(e,t,a){}}]);
//# sourceMappingURL=chunk-18b97c47.16262b98.js.map